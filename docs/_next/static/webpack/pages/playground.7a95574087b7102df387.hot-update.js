webpackHotUpdate_N_E("pages/playground",{

/***/ "../flowjv-react/dist/form/index.js":
/*!******************************************!*\
  !*** ../flowjv-react/dist/form/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FlowJVForm = exports.flowJVContext = void 0;\nvar flowjv_1 = __webpack_require__(/*! flowjv */ \"../flowjv/dist/index.js\");\nvar compile_1 = __webpack_require__(/*! flowjv/dist/jsonflow/compile */ \"../flowjv/dist/jsonflow/compile.js\");\nvar immutable_1 = __webpack_require__(/*! flowjv/dist/helper/immutable */ \"../flowjv/dist/helper/immutable.js\");\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"../../node_modules/react/index.js\"));\nexports.flowJVContext = react_1.default.createContext({});\nfunction FlowJVForm(_a) {\n    var _b = _a.initialData, initialData = _b === void 0 ? {} : _b, _c = _a.context, initialContext = _c === void 0 ? {} : _c, flowConfig = _a.flowConfig, schema = _a.schema, className = _a.className, onSubmit = _a.onSubmit, children = _a.children, renderMap = _a.renderMap, schemaUI = _a.schemaUI;\n    var data = react_1.useRef(initialData);\n    var context = react_1.useRef(initialContext);\n    var blocks = react_1.useMemo(function () { return compile_1.compileSchema(schema); }, []);\n    var allSubscribers = react_1.useRef(new Set());\n    var subscribers = react_1.useRef({ data: {} });\n    var validationSubscribers = react_1.useRef(new Set());\n    var formValidation = react_1.useRef();\n    var triggerValidation = react_1.useCallback(function () {\n        var _a;\n        var result = flowjv_1.validateJSONFlow(schema, {\n            data: data.current,\n            context: context.current,\n        }, { aggressive: false });\n        if (result.isValid !== ((_a = formValidation.current) === null || _a === void 0 ? void 0 : _a.isValid)) {\n            validationSubscribers.current.forEach(function (func) { return func(result); });\n        }\n        formValidation.current = result;\n    }, []);\n    var triggerSubscriptions = react_1.useCallback(function (paths) {\n        paths.forEach(function (path) {\n            var _a;\n            (_a = subscribers.current.data[path.join(\".\")]) === null || _a === void 0 ? void 0 : _a.forEach(function (func) {\n                return func({ data: data.current, context: context.current });\n            });\n        });\n        allSubscribers.current.forEach(function (func) {\n            return func({ data: data.current, context: context.current });\n        });\n    }, []);\n    react_1.useEffect(function () {\n        // This is for FormSpy.\n        triggerSubscriptions([]);\n    }, []);\n    var registered = react_1.useRef({});\n    var formContext = {\n        schema: schema,\n        getBlock: function (key) {\n            if (key.length === 0) {\n                var value = {\n                    deps: [],\n                    items: [\n                        {\n                            deps: [],\n                            condPath: [],\n                            schema: schema,\n                        },\n                    ],\n                };\n                return value;\n            }\n            return blocks[key.map(function (v) { return (typeof v === \"number\" ? \"$\" : v); }).join(\".\")];\n        },\n        register: function (key, _a) {\n            var setFocus = _a.setFocus, setTouch = _a.setTouch;\n            if (!registered.current)\n                return;\n            registered.current[key.join(\".\")] = __assign(__assign({}, registered.current), { setFocus: setFocus,\n                setTouch: setTouch });\n        },\n        getValue: function (key) {\n            return immutable_1.get(data.current, key);\n        },\n        setValue: function (key, value) {\n            data.current = immutable_1.set(data.current, key, value);\n            triggerValidation();\n            triggerSubscriptions([key]);\n        },\n        deleteValue: function (key) {\n            data.current = immutable_1.unset(data.current, key);\n            triggerValidation();\n        },\n        insertIndex: function (key, value) {\n            data.current = immutable_1.insertIndex(data.current, key, value);\n            triggerValidation();\n            key.pop();\n            triggerSubscriptions([key]);\n        },\n        deleteIndex: function (key) {\n            data.current = immutable_1.unset(data.current, key);\n            triggerValidation();\n            key.pop();\n            triggerSubscriptions([key]);\n        },\n        subscribeValidation: function (func) {\n            var validation = formValidation.current;\n            if (validation) {\n                func(validation);\n            }\n            validationSubscribers.current.add(func);\n            return function () {\n                validationSubscribers.current.delete(func);\n            };\n        },\n        subscribeData: function (deps, func) {\n            if (deps === null) {\n                // Subscribe all.\n                allSubscribers.current.add(func);\n                return;\n            }\n            var d = deps;\n            func({ data: data.current, context: context.current });\n            d.forEach(function (path) {\n                var _a;\n                if (!subscribers.current.data[path]) {\n                    subscribers.current.data[path] = new Set();\n                }\n                (_a = subscribers.current.data[path]) === null || _a === void 0 ? void 0 : _a.add(func);\n            });\n            return function () {\n                d.forEach(function (path) {\n                    var _a;\n                    (_a = subscribers.current.data[path]) === null || _a === void 0 ? void 0 : _a.delete(func);\n                });\n            };\n        },\n        renderSchema: function (props) {\n            var path = props.path.join(\".\");\n            if (renderMap === null || renderMap === void 0 ? void 0 : renderMap[path]) {\n                var result = renderMap[path](props);\n                if (result !== null)\n                    return result;\n            }\n            if (schemaUI) {\n                var result = schemaUI(props);\n                if (result !== null)\n                    return result;\n            }\n            // Check for renderMap\n            return flowConfig(props);\n        },\n    };\n    react_1.useEffect(function () {\n        // Call validation the first time.\n        triggerValidation();\n    }, []);\n    return (react_1.default.createElement(exports.flowJVContext.Provider, { value: formContext },\n        react_1.default.createElement(\"form\", { className: className, onSubmit: function (e) {\n                var _a, _b, _c;\n                e.preventDefault();\n                // touchAll\n                if (registered.current) {\n                    Object.entries(registered.current).forEach(function (_a) {\n                        var _b = __read(_a, 2), _ = _b[0], value = _b[1];\n                        return value === null || value === void 0 ? void 0 : value.setTouch(true);\n                    });\n                }\n                var validationResult = formValidation.current;\n                // Focus on the first error field.\n                if (!(validationResult === null || validationResult === void 0 ? void 0 : validationResult.isValid)) {\n                    var errorKey = (_a = validationResult === null || validationResult === void 0 ? void 0 : validationResult.errors[0]) === null || _a === void 0 ? void 0 : _a.key.join(\".\");\n                    if (errorKey) {\n                        (_c = (_b = registered.current) === null || _b === void 0 ? void 0 : _b[errorKey]) === null || _c === void 0 ? void 0 : _c.setFocus();\n                    }\n                }\n                onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit({\n                    isValid: !!(validationResult === null || validationResult === void 0 ? void 0 : validationResult.isValid),\n                    data: data.current,\n                    context: context.current,\n                });\n            } }, children)));\n}\nexports.FlowJVForm = FlowJVForm;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uL2Zsb3dqdi1yZWFjdC9kaXN0L2Zvcm0vaW5kZXguanM/ODkzNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxvQ0FBb0MsYUFBYSxFQUFFLEVBQUU7QUFDdkYsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSx5Q0FBeUMsNkJBQTZCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE1BQU0sZ0JBQWdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBLGVBQWUsbUJBQU8sQ0FBQyx1Q0FBUTtBQUMvQixnQkFBZ0IsbUJBQU8sQ0FBQyx3RUFBOEI7QUFDdEQsa0JBQWtCLG1CQUFPLENBQUMsd0VBQThCO0FBQ3hELDJCQUEyQixtQkFBTyxDQUFDLGdEQUFPO0FBQzFDLHdEQUF3RDtBQUN4RDtBQUNBLDZEQUE2RCwyREFBMkQ7QUFDeEg7QUFDQTtBQUNBLDhDQUE4Qyx3Q0FBd0MsRUFBRTtBQUN4RjtBQUNBLHNDQUFzQyxTQUFTLEVBQUU7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLEdBQUcsb0JBQW9CO0FBQ2hDO0FBQ0EsbUVBQW1FLHFCQUFxQixFQUFFO0FBQzFGO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0NBQStDO0FBQzVFLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSx5QkFBeUIsK0NBQStDO0FBQ3hFLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELDBDQUEwQyxFQUFFO0FBQzVGLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSx3QkFBd0I7QUFDNUYsb0NBQW9DO0FBQ3BDLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLCtDQUErQztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwyRUFBMkUscUJBQXFCO0FBQ2hHLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhLEVBQUU7QUFDZjtBQUNBIiwiZmlsZSI6Ii4uL2Zsb3dqdi1yZWFjdC9kaXN0L2Zvcm0vaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRmxvd0pWRm9ybSA9IGV4cG9ydHMuZmxvd0pWQ29udGV4dCA9IHZvaWQgMDtcbnZhciBmbG93anZfMSA9IHJlcXVpcmUoXCJmbG93anZcIik7XG52YXIgY29tcGlsZV8xID0gcmVxdWlyZShcImZsb3dqdi9kaXN0L2pzb25mbG93L2NvbXBpbGVcIik7XG52YXIgaW1tdXRhYmxlXzEgPSByZXF1aXJlKFwiZmxvd2p2L2Rpc3QvaGVscGVyL2ltbXV0YWJsZVwiKTtcbnZhciByZWFjdF8xID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5leHBvcnRzLmZsb3dKVkNvbnRleHQgPSByZWFjdF8xLmRlZmF1bHQuY3JlYXRlQ29udGV4dCh7fSk7XG5mdW5jdGlvbiBGbG93SlZGb3JtKF9hKSB7XG4gICAgdmFyIF9iID0gX2EuaW5pdGlhbERhdGEsIGluaXRpYWxEYXRhID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2IsIF9jID0gX2EuY29udGV4dCwgaW5pdGlhbENvbnRleHQgPSBfYyA9PT0gdm9pZCAwID8ge30gOiBfYywgZmxvd0NvbmZpZyA9IF9hLmZsb3dDb25maWcsIHNjaGVtYSA9IF9hLnNjaGVtYSwgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLCBvblN1Ym1pdCA9IF9hLm9uU3VibWl0LCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCByZW5kZXJNYXAgPSBfYS5yZW5kZXJNYXAsIHNjaGVtYVVJID0gX2Euc2NoZW1hVUk7XG4gICAgdmFyIGRhdGEgPSByZWFjdF8xLnVzZVJlZihpbml0aWFsRGF0YSk7XG4gICAgdmFyIGNvbnRleHQgPSByZWFjdF8xLnVzZVJlZihpbml0aWFsQ29udGV4dCk7XG4gICAgdmFyIGJsb2NrcyA9IHJlYWN0XzEudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBjb21waWxlXzEuY29tcGlsZVNjaGVtYShzY2hlbWEpOyB9LCBbXSk7XG4gICAgdmFyIGFsbFN1YnNjcmliZXJzID0gcmVhY3RfMS51c2VSZWYobmV3IFNldCgpKTtcbiAgICB2YXIgc3Vic2NyaWJlcnMgPSByZWFjdF8xLnVzZVJlZih7IGRhdGE6IHt9IH0pO1xuICAgIHZhciB2YWxpZGF0aW9uU3Vic2NyaWJlcnMgPSByZWFjdF8xLnVzZVJlZihuZXcgU2V0KCkpO1xuICAgIHZhciBmb3JtVmFsaWRhdGlvbiA9IHJlYWN0XzEudXNlUmVmKCk7XG4gICAgdmFyIHRyaWdnZXJWYWxpZGF0aW9uID0gcmVhY3RfMS51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZsb3dqdl8xLnZhbGlkYXRlSlNPTkZsb3coc2NoZW1hLCB7XG4gICAgICAgICAgICBkYXRhOiBkYXRhLmN1cnJlbnQsXG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LmN1cnJlbnQsXG4gICAgICAgIH0sIHsgYWdncmVzc2l2ZTogZmFsc2UgfSk7XG4gICAgICAgIGlmIChyZXN1bHQuaXNWYWxpZCAhPT0gKChfYSA9IGZvcm1WYWxpZGF0aW9uLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc1ZhbGlkKSkge1xuICAgICAgICAgICAgdmFsaWRhdGlvblN1YnNjcmliZXJzLmN1cnJlbnQuZm9yRWFjaChmdW5jdGlvbiAoZnVuYykgeyByZXR1cm4gZnVuYyhyZXN1bHQpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3JtVmFsaWRhdGlvbi5jdXJyZW50ID0gcmVzdWx0O1xuICAgIH0sIFtdKTtcbiAgICB2YXIgdHJpZ2dlclN1YnNjcmlwdGlvbnMgPSByZWFjdF8xLnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYXRocykge1xuICAgICAgICBwYXRocy5mb3JFYWNoKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBzdWJzY3JpYmVycy5jdXJyZW50LmRhdGFbcGF0aC5qb2luKFwiLlwiKV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKGZ1bmN0aW9uIChmdW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmMoeyBkYXRhOiBkYXRhLmN1cnJlbnQsIGNvbnRleHQ6IGNvbnRleHQuY3VycmVudCB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgYWxsU3Vic2NyaWJlcnMuY3VycmVudC5mb3JFYWNoKGZ1bmN0aW9uIChmdW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuYyh7IGRhdGE6IGRhdGEuY3VycmVudCwgY29udGV4dDogY29udGV4dC5jdXJyZW50IH0pO1xuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgcmVhY3RfMS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUaGlzIGlzIGZvciBGb3JtU3B5LlxuICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhbXSk7XG4gICAgfSwgW10pO1xuICAgIHZhciByZWdpc3RlcmVkID0gcmVhY3RfMS51c2VSZWYoe30pO1xuICAgIHZhciBmb3JtQ29udGV4dCA9IHtcbiAgICAgICAgc2NoZW1hOiBzY2hlbWEsXG4gICAgICAgIGdldEJsb2NrOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVwczogW10sXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZFBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYTogc2NoZW1hLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBibG9ja3Nba2V5Lm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gKHR5cGVvZiB2ID09PSBcIm51bWJlclwiID8gXCIkXCIgOiB2KTsgfSkuam9pbihcIi5cIildO1xuICAgICAgICB9LFxuICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24gKGtleSwgX2EpIHtcbiAgICAgICAgICAgIHZhciBzZXRGb2N1cyA9IF9hLnNldEZvY3VzLCBzZXRUb3VjaCA9IF9hLnNldFRvdWNoO1xuICAgICAgICAgICAgaWYgKCFyZWdpc3RlcmVkLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcmVnaXN0ZXJlZC5jdXJyZW50W2tleS5qb2luKFwiLlwiKV0gPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVnaXN0ZXJlZC5jdXJyZW50KSwgeyBzZXRGb2N1czogc2V0Rm9jdXMsXG4gICAgICAgICAgICAgICAgc2V0VG91Y2g6IHNldFRvdWNoIH0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGltbXV0YWJsZV8xLmdldChkYXRhLmN1cnJlbnQsIGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZhbHVlOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgZGF0YS5jdXJyZW50ID0gaW1tdXRhYmxlXzEuc2V0KGRhdGEuY3VycmVudCwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB0cmlnZ2VyVmFsaWRhdGlvbigpO1xuICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoW2tleV0pO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVWYWx1ZTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgZGF0YS5jdXJyZW50ID0gaW1tdXRhYmxlXzEudW5zZXQoZGF0YS5jdXJyZW50LCBrZXkpO1xuICAgICAgICAgICAgdHJpZ2dlclZhbGlkYXRpb24oKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5zZXJ0SW5kZXg6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBkYXRhLmN1cnJlbnQgPSBpbW11dGFibGVfMS5pbnNlcnRJbmRleChkYXRhLmN1cnJlbnQsIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgdHJpZ2dlclZhbGlkYXRpb24oKTtcbiAgICAgICAgICAgIGtleS5wb3AoKTtcbiAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKFtrZXldKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlSW5kZXg6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGRhdGEuY3VycmVudCA9IGltbXV0YWJsZV8xLnVuc2V0KGRhdGEuY3VycmVudCwga2V5KTtcbiAgICAgICAgICAgIHRyaWdnZXJWYWxpZGF0aW9uKCk7XG4gICAgICAgICAgICBrZXkucG9wKCk7XG4gICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhba2V5XSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN1YnNjcmliZVZhbGlkYXRpb246IGZ1bmN0aW9uIChmdW5jKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRhdGlvbiA9IGZvcm1WYWxpZGF0aW9uLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAodmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgIGZ1bmModmFsaWRhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxpZGF0aW9uU3Vic2NyaWJlcnMuY3VycmVudC5hZGQoZnVuYyk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25TdWJzY3JpYmVycy5jdXJyZW50LmRlbGV0ZShmdW5jKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHN1YnNjcmliZURhdGE6IGZ1bmN0aW9uIChkZXBzLCBmdW5jKSB7XG4gICAgICAgICAgICBpZiAoZGVwcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFN1YnNjcmliZSBhbGwuXG4gICAgICAgICAgICAgICAgYWxsU3Vic2NyaWJlcnMuY3VycmVudC5hZGQoZnVuYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGQgPSBkZXBzO1xuICAgICAgICAgICAgZnVuYyh7IGRhdGE6IGRhdGEuY3VycmVudCwgY29udGV4dDogY29udGV4dC5jdXJyZW50IH0pO1xuICAgICAgICAgICAgZC5mb3JFYWNoKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaWJlcnMuY3VycmVudC5kYXRhW3BhdGhdKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJzLmN1cnJlbnQuZGF0YVtwYXRoXSA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9hID0gc3Vic2NyaWJlcnMuY3VycmVudC5kYXRhW3BhdGhdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkKGZ1bmMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGQuZm9yRWFjaChmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YnNjcmliZXJzLmN1cnJlbnQuZGF0YVtwYXRoXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlbGV0ZShmdW5jKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlclNjaGVtYTogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IHByb3BzLnBhdGguam9pbihcIi5cIik7XG4gICAgICAgICAgICBpZiAocmVuZGVyTWFwID09PSBudWxsIHx8IHJlbmRlck1hcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVuZGVyTWFwW3BhdGhdKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlbmRlck1hcFtwYXRoXShwcm9wcyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzY2hlbWFVSSkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBzY2hlbWFVSShwcm9wcyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciByZW5kZXJNYXBcbiAgICAgICAgICAgIHJldHVybiBmbG93Q29uZmlnKHByb3BzKTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJlYWN0XzEudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQ2FsbCB2YWxpZGF0aW9uIHRoZSBmaXJzdCB0aW1lLlxuICAgICAgICB0cmlnZ2VyVmFsaWRhdGlvbigpO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGV4cG9ydHMuZmxvd0pWQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZm9ybUNvbnRleHQgfSxcbiAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIG9uU3VibWl0OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAvLyB0b3VjaEFsbFxuICAgICAgICAgICAgICAgIGlmIChyZWdpc3RlcmVkLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMocmVnaXN0ZXJlZC5jdXJyZW50KS5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAyKSwgXyA9IF9iWzBdLCB2YWx1ZSA9IF9iWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS5zZXRUb3VjaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2YWxpZGF0aW9uUmVzdWx0ID0gZm9ybVZhbGlkYXRpb24uY3VycmVudDtcbiAgICAgICAgICAgICAgICAvLyBGb2N1cyBvbiB0aGUgZmlyc3QgZXJyb3IgZmllbGQuXG4gICAgICAgICAgICAgICAgaWYgKCEodmFsaWRhdGlvblJlc3VsdCA9PT0gbnVsbCB8fCB2YWxpZGF0aW9uUmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnJvcktleSA9IChfYSA9IHZhbGlkYXRpb25SZXN1bHQgPT09IG51bGwgfHwgdmFsaWRhdGlvblJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsaWRhdGlvblJlc3VsdC5lcnJvcnNbMF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5rZXkuam9pbihcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcktleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9jID0gKF9iID0gcmVnaXN0ZXJlZC5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbZXJyb3JLZXldKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc2V0Rm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvblN1Ym1pdCA9PT0gbnVsbCB8fCBvblN1Ym1pdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25TdWJtaXQoe1xuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkOiAhISh2YWxpZGF0aW9uUmVzdWx0ID09PSBudWxsIHx8IHZhbGlkYXRpb25SZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbGlkYXRpb25SZXN1bHQuaXNWYWxpZCksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEuY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogY29udGV4dC5jdXJyZW50LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSB9LCBjaGlsZHJlbikpKTtcbn1cbmV4cG9ydHMuRmxvd0pWRm9ybSA9IEZsb3dKVkZvcm07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../flowjv-react/dist/form/index.js\n");

/***/ })

})