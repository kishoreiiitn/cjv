(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{3248:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayUI=void 0;var u=r(9605),l=r(7230),c=i(r(2784)),f=i(r(2983)),s=i(r(5549));t.ArrayUI=function(e){var t=e.config,r=t.path,i=t.value,d=void 0===i?[]:i,v=t.insertAtIndex,h=t.deleteAtIndex,p=t.uniqueIndexes,y=t.schema,m=y.ui,b=n(y,["ui"]);return c.default.createElement("div",{style:{marginTop:20}},b.label&&c.default.createElement(u.FormLabel,{style:{display:"flex",alignItems:"center"}},b.label," "),c.default.createElement("div",{style:{padding:10,backgroundColor:"rgba(0,0,0,0.03)"}},d.map((function(e,t){var n;return c.default.createElement("div",{style:{display:"flex",alignItems:"center"},key:null!==(n=p[t])&&void 0!==n?n:t},c.default.createElement("div",{style:{flexGrow:1}},c.default.createElement(l.AutoFlow,{path:a(a([],o(r)),[t])})),(null===m||void 0===m?void 0:m.length)===d.length?null:(void 0===(null===m||void 0===m?void 0:m.minLength)||d.length>(null===m||void 0===m?void 0:m.minLength))&&c.default.createElement(u.IconButton,{size:"medium",style:{marginTop:-10},onClick:function(){return h(t)}},c.default.createElement(f.default,{style:{fontSize:18}})))})),(null===m||void 0===m?void 0:m.length)===d.length?null:c.default.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:10}},(void 0===(null===m||void 0===m?void 0:m.maxLength)||d.length<(null===m||void 0===m?void 0:m.maxLength))&&c.default.createElement(u.Button,{size:"medium",variant:"outlined",onClick:function(){return v(d.length)}},"Add ",c.default.createElement(s.default,{style:{fontSize:10}})))))}},2499:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubmitButton=void 0;var a=r(9605),i=r(7230),u=o(r(2784));t.SubmitButton=function(e){return u.default.createElement(i.IsValid,null,(function(t){var r=t.isValid;return u.default.createElement(a.Button,n({},e,{disableRipple:!r,disableElevation:!0,color:r?"primary":"default",variant:"contained",className:"block w-full mt-5 focus:outline-none",type:"submit"}),"Submit")}))}},3583:function(e,t,r){"use strict";t.Mm=t.OO=t.m1=void 0;var n=r(7230);var o=r(3459);Object.defineProperty(t,"m1",{enumerable:!0,get:function(){return o.FlowJVForm}}),Object.defineProperty(t,"OO",{enumerable:!0,get:function(){return o.flowSchema}});var a=r(2499);Object.defineProperty(t,"Mm",{enumerable:!0,get:function(){return a.SubmitButton}})},3459:function(e,t,r){"use strict";var n,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.flowSchema=t.FlowJVForm=void 0;var a=o(r(2784)),i=o(r(994)),u=o(r(9604)),l=o(r(5557)),c=r(7230),f=o(r(5061)),s=o(r(8502)),d=o(r(6936)),v=r(9605),h=r(3248);t.FlowJVForm=(n=c.setupFlowJV((function(e){var t,r,n,o,c,p,y,m,b;switch(e.type){case"propertyWrapper":return a.default.createElement("div",{style:{marginTop:15,position:"relative"}},e.children);case"array":return a.default.createElement(h.ArrayUI,{config:e});case"simple":var g=e.schema,_=e.errors,w=e.value,O=e.setValue,x=e.onTouch,j=e.touched,S=e.path,P=e.registerRef;switch(g.type){case"string":return a.default.createElement(i.default,{fullWidth:!0,autoFocus:null===(t=g.ui)||void 0===t?void 0:t.autoFocus,variant:"filled",label:g.label,error:!!j&&!!_.length,helperText:j&&_.join("\n"),type:null!==(n=null===(r=g.ui)||void 0===r?void 0:r.type)&&void 0!==n?n:"text",placeholder:null!==(o=g.label)&&void 0!==o?o:S.join("."),value:null!==w&&void 0!==w?w:"",onChange:function(e){return O(S,e.target.value)},onFocus:function(){return x(!0)},inputRef:function(e){P({setFocus:function(){return null===e||void 0===e?void 0:e.focus()}})}});case"number":return a.default.createElement(i.default,{fullWidth:!0,autoFocus:null===(c=g.ui)||void 0===c?void 0:c.autoFocus,variant:"filled",label:g.label,error:!!j&&!!_.length,helperText:j&&_.join("\n"),type:"number",placeholder:S.join("."),value:null!==w&&void 0!==w?w:"",onChange:function(e){return O(S,e.target.value)},onFocus:function(){return x(!0)},ref:function(e){P({setFocus:function(){return null===e||void 0===e?void 0:e.focus()}})}});case"enum":var E="select-"+S.join(".");return"select"===(null===(p=g.ui)||void 0===p?void 0:p.type)?a.default.createElement(f.default,{key:"select",variant:"filled",error:!!j&&!!_.length,style:{display:"block"}},a.default.createElement(v.InputLabel,{id:E},g.label),a.default.createElement(u.default,{fullWidth:!0,labelId:E,autoFocus:null===(y=g.ui)||void 0===y?void 0:y.autoFocus,value:null!==w&&void 0!==w?w:"",onFocus:function(){return x(!0)},onChange:function(e){O(S,e.target.value)},inputRef:function(e){return P({setFocus:function(){return null===e||void 0===e?void 0:e.focus()}})}},g.items.map((function(e){var t=e.value,r=e.label;return a.default.createElement(l.default,{key:t,value:t},null!==r&&void 0!==r?r:t)}))),j&&a.default.createElement(s.default,null,_.join("\n"))):(null===(m=g.ui)||void 0===m?void 0:m.type)?a.default.createElement(f.default,{key:"radio",component:"fieldset"},g.label&&a.default.createElement(v.FormLabel,{component:"legend"},g.label),a.default.createElement(v.RadioGroup,{value:null!==w&&void 0!==w?w:"",onChange:function(e){return O(S,e.target.value)}},g.items.map((function(e,t){var r,n=e.value,o=e.label;return a.default.createElement(v.FormControlLabel,{key:n,value:n,control:a.default.createElement(v.Radio,{autoFocus:0===t&&(null===(r=g.ui)||void 0===r?void 0:r.autoFocus)}),label:o})})))):null;case"boolean":return a.default.createElement(f.default,{error:!!j&&!!_.length},a.default.createElement(v.FormControlLabel,{control:a.default.createElement(d.default,{style:{padding:"0px 9px"},autoFocus:null===(b=g.ui)||void 0===b?void 0:b.autoFocus,onFocus:function(){return x(!0)},checked:null!==w&&void 0!==w&&w,onChange:function(e){return O(S,e.target.checked)},ref:function(e){P({setFocus:function(){return null===e||void 0===e?void 0:e.focus()}})}}),label:g.label}),j&&!!_.length&&a.default.createElement(s.default,{color:"red"},_.join("\n")))}}return null}))).FlowJVForm,t.flowSchema=n.flowSchema},8148:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t},u=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},l=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayFlow=void 0;var c=r(485),f=i(r(2784)),s=r(1760);t.ArrayFlow=function(e){var t=e.schema,r=e.keyPath,o=u(f.useState([]),2),a=o[0],i=o[1],d=f.useContext(s.flowJVContext),v=d.subscribeData,h=d.renderSchema,p=d.deleteIndex,y=d.insertIndex,m=f.useRef(0),b=f.useRef([]),g=f.useCallback((function(e){b.current.length=e}),[]);return f.useEffect((function(){return v([r.join(".")],(function(e){for(var t,n=e.data,o=c.get(n,r,[]),a=0;a<o.length;a++)b.current[a]=null!==(t=b.current[a])&&void 0!==t?t:m.current++;i(o)}))}),[]),f.useMemo((function(){return f.default.createElement(f.default.Fragment,null,f.default.createElement(h,n({},{type:"array",value:a,uniqueIndexes:b.current,deleteAtIndex:function(e){g(e),p(l(l([],u(r)),[e]))},insertAtIndex:function(e){g(e),y(l(l([],u(r)),[e]),void 0)},path:r,schema:t})))}),[a])}},4017:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.IfFlow=void 0;var u=r(8255),l=r(4366),c=a(r(2784)),f=r(1760),s=r(3055);t.IfFlow=function(e){var t=e.schema,r=e.keyPath,n=c.useContext(f.flowJVContext).subscribeData,o=i(c.useState(null),2),a=o[0],d=o[1];return c.useEffect((function(){var e=t.cond,o=l.getDependencies(e);return n(o,(function(e){var n=e.data,o=e.context,a=u.execJSONExpression(t.cond,{data:n,context:o,refPath:r});d(!!a)}))}),[t,r,d]),c.useMemo((function(){var e;return null===a?null:c.default.createElement(c.default.Fragment,null,null===(e=t[a?"true":"false"])||void 0===e?void 0:e.map((function(e,t){return c.default.createElement(s.PropFlow,{schema:e,key:t,keyPath:r})})))}),[t,r,a])}},7608:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleFlow=t.SwitchFlow=t.IfFlow=t.PropFlow=t.ObjectFlow=t.ArrayFlow=t.AutoFlow=void 0;var u=r(8255),l=r(485),c=a(r(2784)),f=r(1760),s=r(8148),d=r(331),v=r(8e3);t.AutoFlow=function(e){var t=e.path,r=void 0===t?"":t,n=c.useContext(f.flowJVContext),o=n.subscribeData,a=n.getBlock,h=i(c.useState(null),2),p=h[0],y=h[1],m=c.useMemo((function(){return"string"===typeof r?l.stringToKeyPath(r):r}),[r]);if(c.useEffect((function(){var e=a(m);if(e){var t=e.deps;return o(t,(function(t){var r,n,o=t.data,a=t.context,i=null===(n=null===(r=e.items)||void 0===r?void 0:r.find((function(e){return e.condPath.reduce((function(e,t){return e&&u.execJSONExpression(t.expr,{data:o,context:a,refPath:m})===t.value}),!0)})))||void 0===n?void 0:n.schema;y(i||null)}))}console.error("No block found at path : ",m)}),[m]),!p)return null;switch(p.type){case"object":return c.default.createElement(d.ObjectFlow,{schema:p,keyPath:m});case"array":return c.default.createElement(s.ArrayFlow,{schema:p,keyPath:m});default:return c.default.createElement(v.SimpleFlow,{schema:p,keyPath:m})}};var h=r(8148);Object.defineProperty(t,"ArrayFlow",{enumerable:!0,get:function(){return h.ArrayFlow}});var p=r(331);Object.defineProperty(t,"ObjectFlow",{enumerable:!0,get:function(){return p.ObjectFlow}});var y=r(3055);Object.defineProperty(t,"PropFlow",{enumerable:!0,get:function(){return y.PropFlow}});var m=r(4017);Object.defineProperty(t,"IfFlow",{enumerable:!0,get:function(){return m.IfFlow}});var b=r(6256);Object.defineProperty(t,"SwitchFlow",{enumerable:!0,get:function(){return b.SwitchFlow}});var g=r(8e3);Object.defineProperty(t,"SimpleFlow",{enumerable:!0,get:function(){return g.SimpleFlow}})},331:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectFlow=void 0;var o=n(r(2784)),a=r(3055);t.ObjectFlow=function(e){var t=e.schema,r=e.keyPath;return o.default.createElement(o.default.Fragment,null,t.properties.map((function(e,t){return o.default.createElement(a.PropFlow,{schema:e,keyPath:r})})))}},3055:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PropFlow=void 0;var i=a(r(2784)),u=r(8148),l=r(4017),c=r(331),f=r(8e3),s=r(6256);t.PropFlow=function(e){var t=e.schema,r=e.keyPath;switch(t.type){case"if":return i.default.createElement(l.IfFlow,{schema:t,keyPath:r});case"switch":return i.default.createElement(s.SwitchFlow,{schema:t,keyPath:r});case"object":return i.default.createElement(c.ObjectFlow,{schema:t,keyPath:o(o([],n(r)),[t.key])});case"array":return i.default.createElement(u.ArrayFlow,{schema:t,keyPath:o(o([],n(r)),[t.key])});default:return i.default.createElement(f.SimpleFlow,{schema:t,keyPath:o(o([],n(r)),[t.key])})}}},8e3:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleFlow=void 0;var i=r(4366),u=r(466),l=a(r(2784)),c=r(2784),f=r(1760);t.SimpleFlow=function(e){var t=e.schema,r=e.keyPath,a=o(c.useState(!1),2),s=a[0],d=a[1],v=c.useContext(f.flowJVContext),h=v.register,p=v.renderSchema,y=v.subscribeData,m=v.deleteValue,b=v.getValue,g=v.setValue,_=o(c.useState([]),2),w=_[0],O=_[1],x=c.useRef();return c.useEffect((function(){h(r,{setFocus:function(){var e;return null===(e=x.current)||void 0===e?void 0:e.setFocus()},setTouch:function(e){return void 0===e&&(e=!0),d(e)}})}),[]),c.useEffect((function(){var e,n,o=[r.join(".")],a=null!==(n=null===(e=t.validations)||void 0===e?void 0:e.reduce((function(e,t){return i.combineDependencies(e,i.getDependencies(t.logic))}),o))&&void 0!==n?n:o;return y(a,(function(e){var n=e.data,o=e.context;O(u.validateSimpleType(t,{data:n,context:o,refPath:r},{}).errors)}))}),[t,h]),c.useMemo((function(){return t?l.default.createElement(p,{type:"propertyWrapper"},l.default.createElement(p,n({},{type:"simple",schema:t,setValue:g,deleteValue:m,registerRef:function(e){x.current=e},onTouch:function(e){return void 0===e&&(e=!0),d(e)},errors:w,touched:s,path:r,value:b(r)}))):null}),[w,t,s])}},6256:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchFlow=void 0;var u=r(8255),l=r(4366),c=a(r(2784)),f=r(1760),s=r(3055);t.SwitchFlow=function(e){var t=e.schema,r=e.keyPath,n=c.useContext(f.flowJVContext).subscribeData,o=i(c.useState(null),2),a=o[0],d=o[1];return c.useEffect((function(){var e=t.switch,o=l.getDependencies(e);return n(o,(function(e){var n=e.data,o=e.context,a=u.execJSONExpression(t.switch,{data:n,context:o,refPath:r});d(a)}))}),[t,r,d]),c.useMemo((function(){var e;return null===a?null:c.default.createElement(c.default.Fragment,null,null===(e=t.cases[a])||void 0===e?void 0:e.map((function(e,t){return c.default.createElement(s.PropFlow,{schema:e,key:t,keyPath:r})})))}),[t,r,a])}},7609:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.FormSpy=void 0;var o=r(2784),a=r(1760);t.FormSpy=function(e){var t=e.children,r=o.useContext(a.flowJVContext).subscribeData,i=n(o.useState(null),2),u=i[0],l=i[1];return o.useEffect((function(){return r(null,(function(e){var t=e.data;l(t)}))}),[r,l]),t({data:u})}},2676:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormSpy=t.IsValid=t.AutoFlow=void 0;var n=r(7608);Object.defineProperty(t,"AutoFlow",{enumerable:!0,get:function(){return n.AutoFlow}});var o=r(103);Object.defineProperty(t,"IsValid",{enumerable:!0,get:function(){return o.IsValid}});var a=r(7609);Object.defineProperty(t,"FormSpy",{enumerable:!0,get:function(){return a.FormSpy}})},103:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.IsValid=void 0;var o=r(2784),a=r(1760);t.IsValid=function(e){var t=e.children,r=o.useContext(a.flowJVContext).subscribeValidation,i=n(o.useState(!1),2),u=i[0],l=i[1];return o.useEffect((function(){r((function(e){var t=e.isValid;return l(t)}))}),[r,l]),t({isValid:u})}},1760:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t},u=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.FlowJVForm=t.flowJVContext=void 0;var l=r(8255),c=r(513),f=r(485),s=i(r(2784));t.flowJVContext=s.default.createContext({}),t.FlowJVForm=function(e){var r=e.initialData,o=void 0===r?{}:r,a=e.context,i=void 0===a?{}:a,d=e.flowConfig,v=e.schema,h=e.className,p=e.onSubmit,y=e.children,m=e.renderMap,b=e.schemaUI,g=e.onChange,_=s.useRef(o),w=s.useRef(i),O=s.useMemo((function(){return c.compileSchema(v)}),[v]),x=s.useRef(new Set),j=s.useRef({data:{}}),S=s.useRef(new Set),P=s.useRef(),E=s.useCallback((function(){var e,t=l.validateJSONFlow(v,{data:_.current,context:w.current},{aggressive:!1});t.isValid!==(null===(e=P.current)||void 0===e?void 0:e.isValid)&&S.current.forEach((function(e){return e(t)})),P.current=t}),[]),F=s.useCallback((function(e){e.forEach((function(e){var t;null===(t=j.current.data[e.join(".")])||void 0===t||t.forEach((function(e){return e({data:_.current,context:w.current})}))})),x.current.forEach((function(e){return e({data:_.current,context:w.current})}))}),[]);s.useEffect((function(){g&&x.current.add(g),F([])}),[]);var k=s.useRef({}),V={schema:v,getBlock:function(e){return 0===e.length?{deps:[],items:[{deps:[],condPath:[],schema:v}]}:O[e.map((function(e){return"number"===typeof e?"$":e})).join(".")]},register:function(e,t){var r=t.setFocus,o=t.setTouch;k.current&&(k.current[e.join(".")]=n(n({},k.current),{setFocus:r,setTouch:o}))},getValue:function(e){return f.get(_.current,e)},setValue:function(e,t){_.current=f.set(_.current,e,t),E(),F([e])},deleteValue:function(e){_.current=f.unset(_.current,e),E()},insertIndex:function(e,t){_.current=f.insertIndex(_.current,e,t),E(),e.pop(),F([e])},deleteIndex:function(e){_.current=f.unset(_.current,e),E(),e.pop(),F([e])},subscribeValidation:function(e){var t=P.current;return t&&e(t),S.current.add(e),function(){S.current.delete(e)}},subscribeData:function(e,t){if(null!==e){var r=e;return t({data:_.current,context:w.current}),r.forEach((function(e){var r;j.current.data[e]||(j.current.data[e]=new Set),null===(r=j.current.data[e])||void 0===r||r.add(t)})),function(){r.forEach((function(e){var r;null===(r=j.current.data[e])||void 0===r||r.delete(t)}))}}x.current.add(t)},renderSchema:function(e){if("array"===e.type||"simple"===e.type){var t=e.path.join(".");if(null===m||void 0===m?void 0:m[t])if(null!==(r=m[t](e)))return r}var r;if(b&&null!==(r=b(e)))return r;return d(e)}};return s.useEffect((function(){E()}),[]),s.default.createElement(t.flowJVContext.Provider,{value:V},s.default.createElement("form",{className:h,onSubmit:function(e){var t,r,n;e.preventDefault(),k.current&&Object.entries(k.current).forEach((function(e){var t=u(e,2),r=(t[0],t[1]);return null===r||void 0===r?void 0:r.setTouch(!0)}));var o=P.current;if(!(null===o||void 0===o?void 0:o.isValid)){var a=null===(t=null===o||void 0===o?void 0:o.errors[0])||void 0===t?void 0:t.key.join(".");a&&(null===(n=null===(r=k.current)||void 0===r?void 0:r[a])||void 0===n||n.setFocus())}null===p||void 0===p||p({isValid:!!(null===o||void 0===o?void 0:o.isValid),data:_.current,context:w.current})}},y))}},7230:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FormSpy=t.IsValid=t.AutoFlow=t.setupFlowJV=void 0;var a=o(r(2784)),i=r(1760);t.setupFlowJV=function(e){return{flowSchema:function(e){return e},FlowJVForm:function(t){return a.default.createElement(i.FlowJVForm,n({},t,{flowConfig:e}))}}};var u=r(2676);Object.defineProperty(t,"AutoFlow",{enumerable:!0,get:function(){return u.AutoFlow}}),Object.defineProperty(t,"IsValid",{enumerable:!0,get:function(){return u.IsValid}}),Object.defineProperty(t,"FormSpy",{enumerable:!0,get:function(){return u.FormSpy}})},485:function(e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Immutable=t.insertIndex=t.unset=t.get=t.set=t.normalizeKeyPath=t.stringToKeyPath=void 0;t.stringToKeyPath=function(e){return t.normalizeKeyPath(e.split("."))};t.normalizeKeyPath=function(e){return e.map((function(e){return isNaN(parseInt(e+""))?e:parseInt(e+"")})).filter((function(e){return""!==(e+"").trim()}))};t.set=function(e,a,i){var u;if(0===(a=t.normalizeKeyPath(a)).length)return i;var l=a.shift();if("string"===typeof l)return e||(e={}),r(r({},e),((u={})[l]=t.set(e[l],a,i),u));if("number"===typeof l){if(null==e&&(e=[]),!(e instanceof Array))throw{msg:"object should be of type array.",obj:e};return e[l]=t.set(e[l],a,i),o([],n(e))}throw new Error("Key should be one of either string|number.")};t.get=function(e,r,n){var o=(r=t.normalizeKeyPath(r)).reduce((function(e,t){return null===e||void 0===e?void 0:e[t]}),e);return null==o?n:o};t.unset=function(e,a){var i;if(0===(a=t.normalizeKeyPath(a)).length||null==e)return e;if(1===a.length){var u=a[0];if("string"===typeof u)return delete(c=r({},e))[u],e[u]?c:e;if(!(e instanceof Array))throw new Error("obj should be of type Array.");return e.length>=u?e.filter((function(e,t){return t!==u})):e}var l=a.shift();if(null==l)throw new Error("Key cannot be undefined.");var c,f=t.unset(e[l],a);return e[l]!==f?e instanceof Array?((c=o([],n(e)))[l]=f,c):r(r({},e),((i={})[l]=f,i)):e},t.insertIndex=function(e,r,a){var i=o([],n(r)),u=i.pop(),l=t.get(e,i,[]);if(!Array.isArray(l))throw new Error("Value is not an array at path "+i.join(".")+".");if("number"!==typeof u)throw new Error("Index provided for array is not number.");var c=o([],n(l));return c.splice(u,0,a),t.set(e,i,c)};t.Immutable=function(e){return{get:function(r,n){return t.Immutable(t.get(e,r,n))},set:function(r,n){return t.Immutable(t.set(e,r,n))},unset:function(r){return t.Immutable(t.unset(e,r))},insertIndex:function(e){},value:function(){return e}}}},8255:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flowSchema=t.validateJSONFlow=t.execJSONExpression=void 0;var n=r(4366);Object.defineProperty(t,"execJSONExpression",{enumerable:!0,get:function(){return n.execJSONExpression}});var o=r(3548);Object.defineProperty(t,"validateJSONFlow",{enumerable:!0,get:function(){return o.validateJSONFlow}}),Object.defineProperty(t,"flowSchema",{enumerable:!0,get:function(){return o.flowSchema}})},4366:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineDependencies=t.getDependencies=t.execJSONExpression=void 0;var i=r(485);t.execJSONExpression=function(e,r){if(r.refPath=r.refPath||[],"number"===typeof e||"string"===typeof e||"boolean"===typeof e)return e;if("function"===typeof e)return e({data:r.data,context:r.context,ref:i.get(r.data,r.refPath)});if(!Array.isArray(e)&&"object"===typeof e)return e.func({data:r.data,context:r.context,ref:i.get(r.data,r.refPath)});switch(e[0]){case"$ref":return i.get(r.data,r.refPath);case"$context":var o=n(e,3),a=(o[0],o[1]),l=o[2],c=a.split(".");return i.get(r.context,c,l);case"$data":var f=n(e,3),s=(f[0],f[1]),d=f[2],v=s.split(".");return i.get(r.data,v,d);case"!":var h=n(e,2),p=(h[0],h[1]);return!t.execJSONExpression(p,r);case"?:":var y=n(e,4),m=(y[0],y[1]),b=y[2],g=y[3];return t.execJSONExpression(m,r)?t.execJSONExpression(b,r):t.execJSONExpression(g,r);case"enum":var _=n(e),w=(_[0],_[1]),O=_.slice(2),x=t.execJSONExpression(w,r);return!!new Set(O.map((function(e){return t.execJSONExpression(e,r)}))).has(x);case"===":var j=n(e),S=(j[0],j.slice(1));return u.assertChainOp(u.mapExpToValue(S,r),(function(e,t){return e===t}));case"!==":var P=n(e);P[0],S=P.slice(1);return u.assertChainOp(u.mapExpToValue(S,r),(function(e,t){return e!==t}));case">":var E=n(e);E[0],S=E.slice(1);return u.assertChainOp(u.mapExpToValue(S,r),(function(e,t){return e>t}));case">=":var F=n(e);F[0],S=F.slice(1);return u.assertChainOp(u.mapExpToValue(S,r),(function(e,t){return e>=t}));case"<":var k=n(e);k[0],S=k.slice(1);return u.assertChainOp(u.mapExpToValue(S,r),(function(e,t){return e<t}));case"<=":var V=n(e);V[0],S=V.slice(1);return u.assertChainOp(u.mapExpToValue(S,r),(function(e,t){return e<=t}));case"||":var M=n(e);M[0],S=M.slice(1);return u.chainOp(u.mapExpToValue(S,r),(function(e,t){return e||t}));case"&&":var A=n(e);A[0],S=A.slice(1);return u.chainOp(u.mapExpToValue(S,r),(function(e,t){return e&&t}));case"+":var I=n(e);I[0],S=I.slice(1);return u.chainOp(u.mapExpToValue(S,r),(function(e,t){return e+t}));case"-":var C=n(e);C[0],S=C.slice(1);return u.chainOp(u.mapExpToValue(S,r),(function(e,t){return e-t}));case"*":var J=n(e);J[0],S=J.slice(1);return u.chainOp(u.mapExpToValue(S,r),(function(e,t){return e*t}));case"/":var T=n(e);T[0],S=T.slice(1);return u.chainOp(u.mapExpToValue(S,r),(function(e,t){return e/t}));case"%":var D=n(e);D[0],S=D.slice(1);return u.chainOp(u.mapExpToValue(S,r),(function(e,t){return e%t}));case"str:fmt:email":var N=n(e,2);N[0],p=N[1];return"string"===typeof(x=t.execJSONExpression(p,r))&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(x);case"str:len":var R=n(e,2);R[0],p=R[1];return"string"!==typeof(x=t.execJSONExpression(p,r))?0:x.length}};var u={mapExpToValue:function(e,r){return e.map((function(e){return t.execJSONExpression(e,r)}))},chainOp:function(e,t){return e.reduce((function(e,r,n){return 0===n?e:t(e,r)}),e[0])},assertChainOp:function(e,t){for(var r=1;r<e.length;r++)if(!t(e[r-1],e[r]))return!1;return!0}};t.getDependencies=function e(t){var r,i,u,l,c,f,s=[];if("number"===typeof t||"string"===typeof t||"boolean"===typeof t)return s;if("function"===typeof t)return null;if(!Array.isArray(t)&&"object"===typeof t)return null!==(l=null===(u=t.deps)||void 0===u?void 0:u.data)&&void 0!==l?l:[];switch(t[0]){case"$data":return[t[1]]}var d=n(t),v=(d[0],d.slice(1));try{for(var h=o(v),p=h.next();!p.done;p=h.next()){var y=p.value;if("number"!==typeof y&&"string"!==typeof y&&"boolean"!==typeof y&&"undefined"!==typeof y){if("function"===typeof y)return null;if(Array.isArray(y)||"object"!==typeof y){var m=e(y);if(null===m)return null;m&&s.push.apply(s,a([],n(m)))}else(null===(c=y.deps)||void 0===c?void 0:c.data)&&s.push.apply(s,a([],n(null===(f=y.deps)||void 0===f?void 0:f.data)))}}}catch(b){r={error:b}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return s},t.combineDependencies=function(e,t){return e&&t?a(a([],n(e)),n(t)):null}},513:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.compileSchema=void 0;var u=r(4366);t.compileSchema=function(e){var t={};return function e(r,n,l,c){var f,s,d,v,h;function p(r,n,u,l){var c,f,s,d,v,h,y,m;switch(r.type){case"if":case"switch":e(r,n,u,l);break;case"object":var b=a(a([],o(u)),[r.key]).join(".");t[b]||(t[b]={items:[],deps:[]}),null===(d=null===(s=t[b])||void 0===s?void 0:s.items)||void 0===d||d.push({condPath:n,schema:r,deps:l});try{for(var g=i(r.properties),_=g.next();!_.done;_=g.next()){p(_.value,n,a(a([],o(u)),[r.key]),l)}}catch(w){c={error:w}}finally{try{_&&!_.done&&(f=g.return)&&f.call(g)}finally{if(c)throw c.error}}break;case"array":b=a(a([],o(u)),[r.key]).join(".");t[b]||(t[b]={items:[],deps:[]}),null===(h=null===(v=t[b])||void 0===v?void 0:v.items)||void 0===h||h.push({condPath:n,schema:r,deps:l});b=a(a([],o(u)),[r.key,"$"]).join(".");t[b]||(t[b]={items:[],deps:[]}),null===(m=null===(y=t[b])||void 0===y?void 0:y.items)||void 0===m||m.push({condPath:n,schema:r.itemSchema,deps:l}),e(r.itemSchema,n,a(a([],o(u)),[r.key,"$"]),l);break;default:e(r,n,a(a([],o(u)),[r.key]),l)}}switch(r.type){case"object":try{for(var y=i(r.properties),m=y.next();!m.done;m=y.next()){p(m.value,n,l,c)}}catch(g){f={error:g}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(f)throw f.error}}break;case"if":r.true.forEach((function(e){return p(e,a(a([],o(n)),[{expr:r.cond,value:!0}]),l,u.combineDependencies(c,u.getDependencies(r.cond)))})),null===(d=r.false)||void 0===d||d.forEach((function(e){return p(e,a(a([],o(n)),[{expr:r.cond,value:!1}]),l,u.combineDependencies(c,u.getDependencies(r.cond)))}));break;case"switch":Object.entries(r.cases).forEach((function(t){var i=o(t,2),f=i[0];i[1].forEach((function(t){e(t,a(a([],o(n)),[{expr:r.switch,value:f}]),l,u.combineDependencies(c,u.getDependencies(r.switch)))}))}));break;case"array":e(r.itemSchema,n,a(a([],o(l)),["$"]),c);break;default:var b=l.join(".");t[b]||(t[b]={items:[],deps:[]}),null===(h=null===(v=t[b])||void 0===v?void 0:v.items)||void 0===h||h.push({condPath:n,schema:r,deps:c})}}(e,[],[],[]),Object.entries(t).reduce((function(e,t){var r,a,i=o(t,2),l=i[0],c=i[1];return n(n({},e),((r={})[l]={items:null===c||void 0===c?void 0:c.items,deps:null===(a=null===c||void 0===c?void 0:c.items)||void 0===a?void 0:a.reduce((function(e,t){return u.combineDependencies(e,t.deps)}),[])},r))}),{})}},7082:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.validateArrayType=void 0;var i=r(485),u=r(466),l=r(7689);t.validateArrayType=function(e,t,r){var c,f,s=i.get(t.data,t.refPath,[]),d=[],v=[];if(e.isRequired&&"undefined"===typeof s&&v.push(null!==(f=null===(c=e.errMsgs)||void 0===c?void 0:c.required)&&void 0!==f?f:"Array at "+t.refPath.join(".")+" is required."),"undefined"===typeof s||Array.isArray(s)){if("undefined"!==typeof s)for(var h=e.itemSchema,p=0;p<s.length;p++){var y=a(a([],o(t.refPath)),[p]);switch(h.type){case"object":(m=l.validateObjectType(h,n(n({},t),{refPath:y}),r).errors).length>0&&d.push.apply(d,a([],o(m)));break;default:var m;(m=u.validateSimpleType(h,n(n({},t),{refPath:y}),r).errors).length>0&&d.push({key:y,msgs:m})}}}else v.push("Type expected at "+t.refPath.join(".")+" should of type array.");return v.length>0&&(d=a([{key:t.refPath,msgs:v}],o(d))),{isValid:!(d.length>0||v.length>0),errors:d,payload:t}}},7689:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.validateObjectProperties=t.validateObjectType=void 0;var u=r(466),l=r(5419),c=r(5012),f=r(7082);function s(e,t,r){return d(e.properties,t,r)}function d(e,t,r){var d,v,h=[];try{for(var p=o(e),y=p.next();!y.done;y=p.next()){var m=y.value;switch(m.type){case"object":var b=i(i([],a(t.refPath)),[m.key]),g=s(m,n(n({},t),{refPath:b}),r);h=i(i([],a(h)),a(g.errors));break;case"if":g=l.validateIfCondition(m,t,r);h=i(i([],a(h)),a(g.errors));break;case"switch":g=c.validateSwitchCondition(m,t,r);h=i(i([],a(h)),a(g.errors));break;case"array":b=i(i([],a(t.refPath)),[m.key]),g=f.validateArrayType(m,n(n({},t),{refPath:b}),r);h=i(i([],a(h)),a(g.errors));break;default:b=i(i([],a(t.refPath)),[m.key]);if(!(g=u.validateSimpleType(m,n(n({},t),{refPath:b}),r)).isValid&&h.push({key:b,msgs:g.errors}),!r.aggressive)break}}}catch(_){d={error:_}}finally{try{y&&!y.done&&(v=p.return)&&v.call(p)}finally{if(d)throw d.error}}return{isValid:0===h.length,errors:h,payload:t}}t.validateObjectType=s,t.validateObjectProperties=d},6163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueId=t.executeValidations=t.executeValidation=t.ErrorMsgs=void 0;var n=r(4366);function o(e,t){return n.execJSONExpression(e.logic,t)?null:e.err}t.ErrorMsgs={required:"Value is required",type:"Type of value expected does not match"},t.executeValidation=o,t.executeValidations=function(e,t){return e.map((function(e){return o(e,t)})).filter((function(e){return null!==e}))};var a=0;t.uniqueId=function(e){return void 0===e&&(e=""),""+e+a++}},1683:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.validateJSONFlow=void 0;var o=r(7689);t.validateJSONFlow=function(e,t,r){return o.validateObjectType(e,n(n({},t),{refPath:[]}),r)}},5419:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.validateIfCondition=void 0;var a=r(485),i=r(7689),u=r(4366);t.validateIfCondition=function(e,t,r){var l,c=u.execJSONExpression(e.cond,t);return r.normalize&&(null===(l=e[c?"false":"true"])||void 0===l||l.map((function(e){"if"===e.type||"switch"===e.type?i.validateObjectProperties([e],t,r):t.data=a.unset(t.data,o(o([],n(t.refPath)),[e.key]))}))),c?i.validateObjectProperties(e.true,t,r):e.false?i.validateObjectProperties(e.false,t,r):{isValid:!0,errors:[],payload:t}}},5012:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.validateSwitchCondition=void 0;var a=r(485),i=r(7689),u=r(4366);t.validateSwitchCondition=function(e,t,r){var l=u.execJSONExpression(e.switch,t);return r.normalize&&Object.keys(e.cases).forEach((function(u){u!==l&&e.cases[u].forEach((function(e){"if"===e.type||"switch"===e.type?i.validateObjectProperties([e],t,r):t.data=a.unset(t.data,o(o([],n(t.refPath)),[e.key]))}))})),e.cases[l]?i.validateObjectProperties(e.cases[l],t,r):{isValid:!0,errors:[],payload:t}}},466:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.validateSimpleType=void 0;var a=r(6163),i=r(485);t.validateSimpleType=function(e,t,r){var u,l,c,f,s,d,v=i.get(t.data,t.refPath),h=[];if(!!e.isRequired&&void 0===i.get(t.data,t.refPath)&&h.push(null!==(l=null===(u=e.errMsgs)||void 0===u?void 0:u.required)&&void 0!==l?l:a.ErrorMsgs.required),r.typeCheck){var p=void 0;switch(e.type){case"string":case"number":case"boolean":var y=typeof v;p=void 0!==v&&r.typeCheck&&y!==e.type&&(null!==(f=null===(c=e.errMsgs)||void 0===c?void 0:c.type)&&void 0!==f?f:a.ErrorMsgs.type);break;case"enum":p=void 0!==v&&-1===e.items.findIndex((function(e){return e.value===v}))&&(null!==(d=null===(s=e.errMsgs)||void 0===s?void 0:s.type)&&void 0!==d?d:a.ErrorMsgs.type)}p&&h.push(p)}return e.validations&&h.push.apply(h,o([],n(a.executeValidations(e.validations,t)))),{isValid:0===h.length,errors:h}}},3548:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flowSchema=t.validateJSONFlow=void 0;var n=r(1683);Object.defineProperty(t,"validateJSONFlow",{enumerable:!0,get:function(){return n.validateJSONFlow}});t.flowSchema=function(e){return e}}}]);